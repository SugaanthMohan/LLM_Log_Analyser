<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogInsight AI - Splunk Log Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script defer src="{{ url_for('static', filename='js/script.js') }}"></script>
</head>
<body>
    <header class="main-header">
        <div class="container header-content">
            <div class="branding">
                <h1>LogInsight AI</h1>
                <p>Splunk-Powered Log Analysis with GenAI</p>
            </div>
            <div class="action-buttons">
                <button class="btn-primary">Save Session</button>
                <button class="btn-primary">Settings</button>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="dashboard">
            <!-- Configuration Panel -->
            <section class="config-panel">
                <h2>Splunk Login</h2>
                <form id="SplunkLoginForm">
                        <div class="form-group">
                            <label>Splunk Configuration</label>
                            <div class="host-port-container">
                                <input type="text" class="input-field" placeholder="Host" required>
                                <input type="number" class="input-field" placeholder="Port" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Authentication</label>
                            <div class="username-password-container">
                                <input type="text" class="input-field" placeholder="Username" required>
                                <input type="password" class="input-field" placeholder="Password" required>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" id="testConnectionButton">Test Connection</button>
                </form>

                <h2>Splunk Configuration</h2>
                    <form id="logConfigForm">
                    <div class="form-group">
                        <label>Source Type</label>
                        <select class="input-field" required>
                            <option value="">Select Source Type</option>
                            <option>syslog</option>
                            <option>http:access</option>
                            <option>custom:app</option>
                        </select>
                    </div>

                    <div class="form-group time-range-group">
                        <div>
                            <label>Start Time</label>
                            <input type="datetime-local" class="input-field" required>
                        </div>
                        <div>
                            <label>End Time</label>
                            <input type="datetime-local" class="input-field" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Application Name</label>
                        <input type="text" class="input-field" required>
                    </div>

                    <div class="form-group">
                        <label>Log Level Filter</label>
                        <select class="input-field">
                            <option value="all">All Levels</option>
                            <option>ERROR</option>
                            <option>WARN</option>
                            <option>INFO</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-primary">Analyze Logs</button>
                </form>
            </section>

            <!-- Analysis Panel -->
            <section class="analysis-panel">
                <div class="results-tabs">
                    <button class="tab-button active">Raw Logs</button>
                    <button class="tab-button">AI Analysis</button>
                    <button class="tab-button">Happy Path</button>
                </div>

                <pre class="log-display" id="logOutput">
[2023-11-20 14:23:45] ERROR ApplicationService: Failed to process request
   at com.app.service.process(Request.java:123)
   caused by: DatabaseConnectionException: Connection timeout
                </pre>

                <div class="ai-analysis">
                    <h3>RAG-Powered Analysis</h3>
                    <p>üîç Detected recurring database connection issues during peak load times. 
                    Comparison with successful logs shows missing connection pool configuration 
                    in error cases. Recommended action: Increase connection pool size and 
                    implement retry logic.</p>
                </div>
            </section>
        </div>
    </main>

</body>
</html>